# =============================================================================
# ES Upserter Worker Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values

# -----------------------------------------------------------------------------
# Datadog Unified Service Tagging
# -----------------------------------------------------------------------------
DD_ENV=local
DD_SERVICE=lattice-worker-es-upserter
DD_VERSION=0.1.0

# -----------------------------------------------------------------------------
# Lattice Custom Tags
# -----------------------------------------------------------------------------
LATTICE_TEAM=platform
LATTICE_CLOUD=local
LATTICE_REGION=local
LATTICE_DOMAIN=mail
LATTICE_STAGE=es-upsert

# -----------------------------------------------------------------------------
# Kafka Configuration (same input topic as mail-upserter, different group)
# -----------------------------------------------------------------------------
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=es-upserter
KAFKA_GROUP_ID=es-upserter-group
KAFKA_TOPIC_IN=lattice.mail.embed.v1
KAFKA_TOPIC_OUT=lattice.es.upsert.v1
KAFKA_TOPIC_DLQ=lattice.dlq.es.upsert.v1

# Optional: For Confluent Cloud
# KAFKA_SASL_USERNAME=your-api-key
# KAFKA_SASL_PASSWORD=your-api-secret

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://<username>:<password>@localhost:5432/lattice

# -----------------------------------------------------------------------------
# Elasticsearch Cloud
# -----------------------------------------------------------------------------
ELASTICSEARCH_CLOUD_ID=
ELASTICSEARCH_API_KEY=
ELASTICSEARCH_INDEX=email_chunks_v1
ELASTICSEARCH_TIMEOUT_MS=30000

# Optional: Use node URL instead of Cloud ID (for local dev)
# ELASTICSEARCH_NODE=http://localhost:9200

# -----------------------------------------------------------------------------
# Alias Filter
# -----------------------------------------------------------------------------
ES_UPSERTER_ALIAS_PATTERN=realty-*@woodcreek.me

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
HEALTH_PORT=3004

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_PRETTY=true
