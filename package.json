{
	"name": "lattice",
	"version": "0.1.0",
	"private": true,
	"description": "Event-driven email indexing pipeline",
	"scripts": {
		"build": "pnpm -r build",
		"dev": "pnpm -r --parallel dev",
		"lint": "pnpm -r lint",
		"test": "pnpm -r test",
		"typecheck": "pnpm -r typecheck",
		"clean": "pnpm -r clean",
		"telemetry:lint": "npx tsx tools/scripts/telemetry-lint.ts",
		"compose:validate": "npx tsx tools/scripts/compose-validate.ts",
		"db:migrate": "pnpm --filter @lattice/mail-parser db:migrate",
		"docker:up": "docker compose -f infra/local/compose/lattice-core.yml -f infra/local/compose/datadog.yml up -d",
		"docker:up:workers": "docker compose -f infra/local/compose/lattice-core.yml -f infra/local/compose/lattice-workers.yml up -d mail-parser mail-chunker",
		"docker:up:all": "docker compose -f infra/local/compose/lattice-core.yml -f infra/local/compose/datadog.yml -f infra/local/compose/lattice-workers.yml up -d",
		"docker:down": "docker compose -f infra/local/compose/lattice-core.yml -f infra/local/compose/datadog.yml down",
		"docker:down:workers": "docker compose -f infra/local/compose/lattice-workers.yml down",
		"docker:down:all": "docker compose -f infra/local/compose/lattice-core.yml -f infra/local/compose/datadog.yml -f infra/local/compose/lattice-workers.yml down",
		"docker:build:workers": "docker compose -f infra/local/compose/lattice-workers.yml build",
		"docker:logs:workers": "docker compose -f infra/local/compose/lattice-workers.yml logs -f",
		"docker:build:mail-parser": "docker build -t lattice-mail-parser -f apps/workers/mail-parser/Dockerfile .",
		"docker:build:mail-chunker": "docker build -t lattice-mail-chunker -f apps/workers/mail-chunker/Dockerfile .",
		"docker:build:mail-embedder": "docker build -t lattice-mail-embedder -f apps/workers/mail-embedder/Dockerfile .",
		"docker:build:mail-upserter": "docker build -t lattice-mail-upserter -f apps/workers/mail-upserter/Dockerfile .",
		"docker:build:mail-deleter": "docker build -t lattice-mail-deleter -f apps/workers/mail-deleter/Dockerfile .",
		"docker:build:audit-writer": "docker build -t lattice-audit-writer -f apps/workers/audit-writer/Dockerfile .",
		"generate:worker": "tsx tools/generators/new-worker/generate.ts"
	},
	"devDependencies": {
		"@biomejs/biome": "^1.9.0",
		"@types/node": "^20.10.0",
		"tsx": "^4.7.0",
		"typescript": "^5.3.0"
	},
	"engines": {
		"node": ">=20.0.0",
		"pnpm": ">=8.0.0"
	},
	"packageManager": "pnpm@9.15.0"
}
