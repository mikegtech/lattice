# =============================================================================
# Confluent Cloud Terraform Variables Example
# =============================================================================
# Copy this file to terraform.tfvars and fill in the values
# DO NOT commit terraform.tfvars to git (it's in .gitignore)
# =============================================================================

# GCP Project ID (required for state backend and Secret Manager)
gcp_project_id = "your-gcp-project-id"

# GCP Region for Kafka cluster
gcp_region = "us-south1"

# =============================================================================
# Control Plane Credentials (Confluent Cloud API)
# =============================================================================
# These secrets must exist in GCP Secret Manager before running terraform.
# The Cloud API key is used by the Confluent provider for resource management.
# This is the ONLY manual secret setup required.

confluent_api_key_secret_name    = "confluent-cloud-api-key"     # pragma: allowlist secret
confluent_api_secret_secret_name = "confluent-cloud-api-secret"  # pragma: allowlist secret

# =============================================================================
# Confluent Cloud Configuration
# =============================================================================

confluent_environment_name = "lattice"
kafka_cluster_name         = "lattice"

# Cluster availability zone configuration
# SINGLE_ZONE for development, MULTI_ZONE for production
kafka_availability = "SINGLE_ZONE"

# Partition configuration
primary_partitions = 2
dlq_partitions     = 1

# Retention configuration (in milliseconds)
primary_retention_ms = 604800000   # 7 days
dlq_retention_ms     = 2592000000  # 30 days

# =============================================================================
# Existing Resource IDs (Lookup Pattern)
# =============================================================================
# Set these to use existing Confluent Cloud resources instead of creating new.
# Leave empty ("") to create new resources.
# This enables idempotent deployments that won't fail if resources exist.

# Existing environment ID (e.g., "env-xxxxx")
existing_environment_id = ""

# Existing Kafka cluster ID (e.g., "lkc-xxxxx")
existing_cluster_id = ""

# Existing service account ID (e.g., "sa-xxxxx")
existing_service_account_id = ""

# =============================================================================
# API Key Rotation
# =============================================================================
# Set to true to force rotation of Kafka API keys.
# Reset to false after rotation is complete.
# CI Kafka and Worker keys are Terraform-managed and persisted to Secret Manager.

rotate_ci_kafka_api_key = false
rotate_worker_api_key   = false
